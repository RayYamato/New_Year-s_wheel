:root{
  --red:#b91c1c; --deep:#8a1515; --gold:#ffd54f; --gold-2:#ffb300;
  --paper:#fff2e8; --ivory:#fff7f2; --shadow: rgba(0,0,0,0.18);
  --accent:#ffb300;
}
html,body{height:100%;margin:0;font-family: "Roboto", Arial, sans-serif;background:
  linear-gradient(180deg,#fff0ea 0%, #fff6f2 50%, #fff8f4 100%);color:#2d1f1f;overflow-x:hidden;}
/* ambient */
.bg-texture{position:fixed;inset:0;z-index:0;pointer-events:none;background-image:
    radial-gradient(circle at 10% 14%, rgba(255,230,215,0.06), transparent 8%),
    radial-gradient(circle at 90% 86%, rgba(255,240,210,0.04), transparent 12%),
    linear-gradient(120deg, rgba(255,240,230,0.06), rgba(255,245,235,0.06));mix-blend-mode:soft-light}
.light-sweep{position:fixed;left:-30%;top:10%;width:160%;height:40%;transform:skewX(-18deg);z-index:1;pointer-events:none;
  background:linear-gradient(90deg, rgba(255,255,255,0.00), rgba(255,248,200,0.13), rgba(255,255,255,0.00));animation:sweep 6.6s linear infinite;mix-blend-mode:screen;filter:blur(10px)}
@keyframes sweep{0%{transform:translateX(-110%) skewX(-18deg)}50%{transform:translateX(10%) skewX(-18deg)}100%{transform:translateX(220%) skewX(-18deg)}}
.gold-dust{position:fixed;inset:0;z-index:2;pointer-events:none;mix-blend-mode:screen}
.gold-dot{position:absolute;width:4px;height:4px;border-radius:50%;background:radial-gradient(circle,#fff8c9,var(--gold));filter:blur(.3px);opacity:.95}

/* layout */
.container{position:relative;z-index:10;max-width:1400px;margin:18px auto;padding:26px;display:grid;grid-template-columns:repeat(12,1fr);gap:20px;}
.main{grid-column:1/13;background:linear-gradient(180deg,#fff7f2,#fff2ea);border-radius:16px;padding:18px;box-shadow:0 16px 40px var(--shadow);border:1px solid rgba(160,50,40,0.06)}
@media(min-width:1024px){ .main{grid-column:1/9} .side{grid-column:9/13} }
.side{background:linear-gradient(180deg,#fffaf2,#fff4ec);border-radius:14px;padding:18px;box-shadow:0 10px 26px rgba(0,0,0,0.04);border:1px solid rgba(160,50,40,0.04)}
.header{display:flex;align-items:center;gap:14px;margin-bottom:10px}
.logo{width:78px;height:78px;border-radius:999px;background:linear-gradient(180deg,var(--gold),var(--gold-2));display:flex;align-items:center;justify-content:center;font-family:"Dancing Script",cursive;font-size:26px;color:var(--deep);box-shadow:0 10px 30px rgba(255,180,20,0.12)}
.title h1{margin:0;color:var(--deep);font-size:22px}
.title p{margin:6px 0 0;color:#6b3b3b;font-size:13px}

.couplet{position:absolute;top:14px;z-index:12;font-family:"Dancing Script",cursive;color:var(--gold-2);font-weight:900;font-size:22px;text-shadow:0 6px 18px rgba(0,0,0,0.12)}
.couplet.left{left:10px}
.couplet.right{right:10px}

.lantern{position:fixed;z-index:11;pointer-events:none;opacity:0.98;animation:lanternSwing 3.6s ease-in-out infinite}
.lantern.s1{left:6%;top:8%} .lantern.s2{right:8%;top:6%}
@keyframes lanternSwing{0%{transform:rotate(-6deg)}50%{transform:rotate(6deg)}100%{transform:rotate(-6deg)}}

/* wheel */
.wheel-wrap{position:relative;display:flex;align-items:center;justify-content:center;padding:20px}
.wheel-card{position:relative;width:min(720px,84vw);height:min(720px,84vw);border-radius:20px;padding:18px;background:
  linear-gradient(180deg,#fff9f4,#fff5ef);box-shadow:0 20px 60px rgba(120,20,20,0.08);border:6px solid rgba(255,220,120,0.12);overflow:visible}
.outer-ring{position:absolute;inset:10px;border-radius:999px;pointer-events:none;background:conic-gradient(from 90deg, #fff3cc, #ffe0a6, #ffd54f, #ffb74d, #ffe0a6);filter:blur(6px) saturate(1.08);opacity:0.85;mix-blend-mode:overlay}
svg#wheel{width:100%;height:100%;transform-origin:50% 50%;display:block;overflow:visible;z-index:20}
.center-plaque{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:30;width:132px;height:132px;border-radius:50%;background:linear-gradient(180deg,#fff7e8,#fff0df);border:6px solid rgba(255,190,50,0.14);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--deep);box-shadow:0 10px 24px rgba(0,0,0,0.12)}

/* POINTER */
.pointer{position:absolute;left:50%;bottom:-36px;transform:translateX(-50%);z-index:80;pointer-events:auto;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.22));transition: transform .12s ease, top .12s ease, bottom .12s ease;cursor:pointer}
.pointer svg{display:block}
.pointer .pulse{animation:pulseTip 1.6s infinite;transform-origin:center}
.pointer.top{bottom:auto;top:-36px;transform:translateX(-50%) rotate(180deg)}
@keyframes pulseTip{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-3px) scale(1.02)}100%{transform:translateY(0) scale(1)}}

/* buttons */
.spin-area{display:flex;justify-content:center;align-items:center;margin-top:14px;z-index:30}
.spin-btn{position:relative;display:inline-block;padding:18px 44px;border-radius:42px;border:none;font-weight:900;font-size:20px;letter-spacing:1px;cursor:pointer;color:#fff;background:linear-gradient(180deg,#ffb84d 0%, #ff8a2b 50%, #b71717 100%);box-shadow:0 18px 50px rgba(183,28,28,0.25),inset 0 -6px 18px rgba(0,0,0,0.12),0 0 20px rgba(255,200,60,0.14);transition: transform .16s ease, box-shadow .16s ease;overflow:visible}
.spin-btn::after{content:'';position:absolute;left:-40%;top:-10%;width:40%;height:120%;background:linear-gradient(90deg, rgba(255,255,255,0.0), rgba(255,255,255,0.55), rgba(255,255,255,0.0));transform:skewX(-18deg);filter:blur(6px);transition:left .9s cubic-bezier(.2,.9,.2,1);z-index:1;opacity:0.9}
.spin-btn:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 26px 70px rgba(183,28,28,0.30),inset 0 -10px 28px rgba(0,0,0,0.14),0 0 40px rgba(255,200,60,0.20)}
.spin-btn:hover::after{left:100%;transition:left .9s cubic-bezier(.2,.9,.2,1)}
.spin-btn[disabled]{opacity:0.45;cursor:not-allowed;transform:none;box-shadow:none}
.side-prizes{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:12px;z-index:25}
.p-card{min-width:120px;padding:10px 12px;border-radius:12px;background:linear-gradient(180deg,#fff7f2,#fff2ea);border:2px solid rgba(255,210,130,0.12);box-shadow:0 8px 20px rgba(0,0,0,0.06);font-weight:900;color:var(--deep);position:relative;text-align:center}
.p-card .del{position:absolute;top:-8px;right:-8px;background:var(--red);color:white;border-radius:999px;border:none;width:24px;height:24px;cursor:pointer;font-weight:900;display:flex;align-items:center;justify-content:center}
.side .heading{font-weight:900;color:var(--deep);margin-bottom:8px}
.add-row{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.add-row input{flex:1;padding:12px;border-radius:12px;border:2px dashed rgba(150,50,40,0.06);background:linear-gradient(180deg,#fff8f2,#fff4ee);font-weight:800;color:var(--deep)}
.btn{padding:10px 14px;border-radius:12px;background:linear-gradient(180deg,var(--red),#8a1414);border:none;color:var(--gold);font-weight:900;cursor:pointer;box-shadow:0 10px 28px rgba(138,20,20,0.22)}
.small-btn{padding:8px 10px;border-radius:10px;background:#ff8a00;border:none;color:white;font-weight:800;cursor:pointer}
.shuffle-btn{padding:8px 10px;border-radius:10px;background:linear-gradient(180deg,#ffd54f,#ffb300);border:none;color:#5a1b1b;font-weight:900;cursor:pointer;box-shadow:0 8px 20px rgba(255,180,40,0.18)}
.list-area{padding:12px;border-radius:12px;background:linear-gradient(180deg,#fff7f0,#fff2e6);min-height:160px;max-height:460px;overflow:auto;border:1px dashed rgba(160,50,40,0.05);box-shadow:0 6px 18px rgba(0,0,0,0.04)}
.chip{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#fff2ec,#ffeaea);padding:10px 12px;border-radius:999px;margin:8px 6px 6px 0;font-weight:800;color:var(--deep)}
.chip .del{background:transparent;border:none;color:var(--deep);font-weight:900;cursor:pointer;font-size:14px}

/* ENVELOPE styles */
.envelope-area{display:none;flex-direction:column;align-items:center;gap:12px;padding:10px 6px;margin-top:6px}
.envelope-form{display:flex;gap:8px;align-items:center;margin-bottom:6px}
.envelope-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(110px, 1fr));gap:18px;max-width:720px;width:100%;justify-items:center}
.envelope{
  width:110px;height:150px;background:linear-gradient(180deg,#b91414 0%, #ff4545 60%);border-radius:12px;position:relative;cursor:pointer;
  box-shadow:0 14px 40px rgba(150,20,20,0.28), inset 0 -8px 18px rgba(0,0,0,0.12);
  transform-origin:center bottom;transition:transform .28s ease;
}
.envelope .seal{
  position:absolute;left:50%;top:22px;transform:translateX(-50%);width:60px;height:60px;border-radius:999px;background:radial-gradient(circle at 40% 36%, #fff1c0, #ffd54f);box-shadow:0 8px 18px rgba(0,0,0,0.18);display:flex;align-items:center;justify-content:center;font-weight:900;color:#a82b2b;font-size:20px
}
.envelope .orn{position:absolute;left:50%;bottom:18px;transform:translateX(-50%);width:86px;height:22px;border-radius:10px;background:linear-gradient(90deg,#fff4c2,#ffd54f);opacity:0.95}
.envelope.opened{transform:translateY(-10px) scale(1.02)}
.envelope .face{position:absolute;left:0;right:0;top:0;bottom:0;border-radius:12px;overflow:hidden}
.envelope .lid{position:absolute;left:0;right:0;top:0;height:58px;background:linear-gradient(180deg,#ff6b6b,#b91c1c);border-top-left-radius:12px;border-top-right-radius:12px;transform-origin:center top;transition:transform .42s cubic-bezier(.2,.9,.2,1)}
.envelope.opened .lid{transform:translateY(-74px) rotateX(20deg)}
.envelope .inner{position:absolute;left:6px;right:6px;top:66px;bottom:18px;background:linear-gradient(180deg,#fffaf0,#fff3ea);border-radius:8px;padding:8px;text-align:center;font-weight:800;color:#a82b2b;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .28s ease;}
.envelope.opened .inner{opacity:1}

.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.48);z-index:120;opacity:0;pointer-events:none;transition:0.18s}
.overlay.show{opacity:1;pointer-events:auto}
.modal{background:linear-gradient(180deg,#fff6ee,#fff0e6);padding:20px;border-radius:18px;border:6px solid rgba(255,200,60,0.12);box-shadow:0 20px 60px rgba(0,0,0,0.28);text-align:center}
.modal h3{margin:0;font-size:22px;color:var(--red)}
.modal p{margin:12px 0;font-weight:900;color:var(--deep)}
.close{padding:10px 14px;border-radius:12px;border:none;background:var(--red);color:white;font-weight:900;cursor:pointer}
.confetti{position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;overflow:hidden;z-index:110}
.confetti .piece{position:absolute;width:12px;height:18px;border-radius:3px;animation:fall 1200ms linear forwards}
@keyframes fall{0%{transform:translateY(-20vh) rotate(0);opacity:1}100%{transform:translateY(120vh) rotate(720deg);opacity:0}}

@media(max-width:520px){
  .logo{width:56px;height:56px;font-size:18px}
  .wheel-card{width:92vw;height:92vw}
  .spin-btn{padding:14px 28px;font-size:18px}
  .pointer{bottom:-30px;border-left:20px solid transparent;border-right:20px solid transparent}
  .envelope{width:86px;height:124px}
  .envelope-grid{gap:12px}
}
